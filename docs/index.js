"use strict"; var mouseIsdown = !1, shapeArr = [], radiusArr = ["50%", "0%"], colorArr = ["#F6BB30", "#110F11", "#CE7F3D", "#DF522D", "#BD563B", "#EEDDA4", "#35385C", "#892721", "#AC1E24", "#B66397", "#5A5A5A"], keycodeObj = { 81: "c3", 50: "db3", 87: "d3", 51: "eb3", 69: "e3", 82: "f3", 53: "gb3", 84: "g3", 54: "ab3", 89: "a3", 55: "bb3", 85: "b3", 73: "c4", 57: "db4", 79: "d4", 48: "eb4", 80: "e4", 219: "f4", 187: "gb4", 221: "g4", 65: "ab4", 90: "a4", 83: "bb4", 88: "b4" }; window.addEventListener("load", function () { var e = document.querySelectorAll(".sound"), o = document.querySelectorAll(".keys > div > div"), t = function (e) { return "white" === e.parentNode.parentNode.className ? "rgb(207, 132, 102)" : "rgb(49, 49, 49)" }, n = function (e) { e.parentNode.style.backgroundColor = "#943939", e.currentTime = .9, e.play(), r() }, r = function () { var e = document.querySelector(".cover_board"), o = document.createElement("div"), t = Math.floor(200 * Math.random()), n = Math.floor(80 * Math.random()), r = Math.floor(100 * Math.random()), d = radiusArr[Math.floor(2 * Math.random())], a = "50%" === d ? t : Math.floor(200 * Math.random()), u = colorArr[Math.floor(11 * Math.random())], c = "position:absolute;top:".concat(n, "%;right:").concat(r, "%;background-color:").concat(u, ";height:").concat(t, "px; width:").concat(a, "px; border-radius:").concat(d, ";"); o.style.cssText = c, e.appendChild(o), shapeArr.push(o), shapeArr.length >= 25 && (e.removeChild(shapeArr[0]), shapeArr.shift()) }; document.querySelector("input").addEventListener("change", function (e) { document.querySelector("#album div").textContent = e.target.value }), document.querySelector("form").addEventListener("submit", function (e) { e.preventDefault() }), o.forEach(function (o, r) { o.addEventListener("touchstart", function () { o.style.backgroundColor = "#943939" }), o.addEventListener("touchend", function () { o.style.backgroundColor = t(e[r]) }), o.addEventListener("mousedown", function () { n(e[r]) }), o.addEventListener("mouseup", function () { o.style.backgroundColor = t(e[r]) }), o.addEventListener("mouseout", function () { o.style.backgroundColor = t(e[r]) }), o.addEventListener("mouseover", function () { mouseIsdown && n(e[r]) }) }), document.onmousedown = function () { mouseIsdown = !0 }, document.onmouseup = function () { mouseIsdown = !1 }, document.onkeydown = function (e) { var o = e.keyCode, r = document.getElementById(keycodeObj[o]); r && (n(r), setTimeout(function () { r.parentNode.style.backgroundColor = t(r) }, 200)) } });